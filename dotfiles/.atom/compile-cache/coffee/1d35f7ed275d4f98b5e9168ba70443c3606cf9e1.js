(function() {
  module.exports = {
    MULTIPLY: function(v1, v2) {
      return v1 * v2 / 255;
    },
    SCREEN: function(v1, v2) {
      return v1 + v2 - (v1 * v2 / 255);
    },
    OVERLAY: function(v1, v2) {
      if (v1 < 128) {
        return 2 * v1 * v2 / 255;
      } else {
        return 255 - (2 * (255 - v1) * (255 - v2) / 255);
      }
    },
    DIFFERENCE: function(v1, v2) {
      return Math.abs(v1 - v2);
    },
    EXCLUSION: function(v1, v2) {
      var cb, cs;
      cb = v1 / 255;
      cs = v2 / 255;
      return (cb + cs - 2 * cb * cs) * 255;
    },
    AVERAGE: function(v1, v2) {
      return (v1 + v2) / 2;
    },
    NEGATION: function(v1, v2) {
      return 255 - Math.abs(v1 + v2 - 255);
    },
    SOFT_LIGHT: function(v1, v2) {
      var cb, cs, d, e;
      cb = v1 / 255;
      cs = v2 / 255;
      d = 1;
      e = cb;
      if (cs > 0.5) {
        e = 1;
        d = cb > 0.25 ? Math.sqrt(cb) : ((16 * cb - 12) * cb + 4) * cb;
      }
      return (cb - ((1 - (2 * cs)) * e * (d - cb))) * 255;
    },
    HARD_LIGHT: function(v1, v2) {
      return module.exports.OVERLAY(v2, v1);
    },
    COLOR_DODGE: function(v1, v2) {
      if (v1 === 255) {
        return v1;
      } else {
        return Math.min(255, (v2 << 8) / (255 - v1));
      }
    },
    COLOR_BURN: function(v1, v2) {
      if (v1 === 0) {
        return v1;
      } else {
        return Math.max(0, 255 - ((255 - v2 << 8) / v1));
      }
    },
    LINEAR_COLOR_DODGE: function(v1, v2) {
      return Math.min(v1 + v2, 255);
    },
    LINEAR_COLOR_BURN: function(v1, v2) {
      if (v1 + v2 < 255) {
        return 0;
      } else {
        return v1 + v2 - 255;
      }
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL2xhcnNncmF1Ym5lci8uZG90ZmlsZXMvZG90ZmlsZXMvLmF0b20vcGFja2FnZXMvcGlnbWVudHMvbGliL2JsZW5kLW1vZGVzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUFBLE1BQU0sQ0FBQyxPQUFQLEdBQ0U7SUFBQSxRQUFBLEVBQVUsU0FBQyxFQUFELEVBQUssRUFBTDthQUNSLEVBQUEsR0FBSyxFQUFMLEdBQVU7SUFERixDQUFWO0lBR0EsTUFBQSxFQUFRLFNBQUMsRUFBRCxFQUFLLEVBQUw7YUFDTixFQUFBLEdBQUssRUFBTCxHQUFVLENBQUMsRUFBQSxHQUFLLEVBQUwsR0FBVSxHQUFYO0lBREosQ0FIUjtJQU1BLE9BQUEsRUFBUyxTQUFDLEVBQUQsRUFBSyxFQUFMO01BQ1AsSUFBRyxFQUFBLEdBQUssR0FBUjtlQUNFLENBQUEsR0FBSSxFQUFKLEdBQVMsRUFBVCxHQUFjLElBRGhCO09BQUEsTUFBQTtlQUdFLEdBQUEsR0FBTSxDQUFDLENBQUEsR0FBSSxDQUFDLEdBQUEsR0FBTSxFQUFQLENBQUosR0FBaUIsQ0FBQyxHQUFBLEdBQU0sRUFBUCxDQUFqQixHQUE4QixHQUEvQixFQUhSOztJQURPLENBTlQ7SUFZQSxVQUFBLEVBQVksU0FBQyxFQUFELEVBQUssRUFBTDthQUFZLElBQUksQ0FBQyxHQUFMLENBQVMsRUFBQSxHQUFLLEVBQWQ7SUFBWixDQVpaO0lBY0EsU0FBQSxFQUFXLFNBQUMsRUFBRCxFQUFLLEVBQUw7QUFDVCxVQUFBO01BQUEsRUFBQSxHQUFLLEVBQUEsR0FBSztNQUNWLEVBQUEsR0FBSyxFQUFBLEdBQUs7YUFDVixDQUFDLEVBQUEsR0FBSyxFQUFMLEdBQVUsQ0FBQSxHQUFJLEVBQUosR0FBUyxFQUFwQixDQUFBLEdBQTBCO0lBSGpCLENBZFg7SUFtQkEsT0FBQSxFQUFTLFNBQUMsRUFBRCxFQUFLLEVBQUw7YUFBWSxDQUFDLEVBQUEsR0FBSyxFQUFOLENBQUEsR0FBWTtJQUF4QixDQW5CVDtJQXFCQSxRQUFBLEVBQVUsU0FBQyxFQUFELEVBQU0sRUFBTjthQUFhLEdBQUEsR0FBTSxJQUFJLENBQUMsR0FBTCxDQUFTLEVBQUEsR0FBSyxFQUFMLEdBQVUsR0FBbkI7SUFBbkIsQ0FyQlY7SUF1QkEsVUFBQSxFQUFZLFNBQUMsRUFBRCxFQUFLLEVBQUw7QUFDVixVQUFBO01BQUEsRUFBQSxHQUFLLEVBQUEsR0FBSztNQUNWLEVBQUEsR0FBSyxFQUFBLEdBQUs7TUFDVixDQUFBLEdBQUk7TUFDSixDQUFBLEdBQUk7TUFFSixJQUFHLEVBQUEsR0FBSyxHQUFSO1FBQ0UsQ0FBQSxHQUFJO1FBQ0osQ0FBQSxHQUFPLEVBQUEsR0FBSyxJQUFSLEdBQWtCLElBQUksQ0FBQyxJQUFMLENBQVUsRUFBVixDQUFsQixHQUFxQyxDQUFDLENBQUMsRUFBQSxHQUFLLEVBQUwsR0FBVSxFQUFYLENBQUEsR0FBaUIsRUFBakIsR0FBc0IsQ0FBdkIsQ0FBQSxHQUE0QixHQUZ2RTs7YUFJQSxDQUFDLEVBQUEsR0FBSyxDQUFDLENBQUMsQ0FBQSxHQUFJLENBQUMsQ0FBQSxHQUFJLEVBQUwsQ0FBTCxDQUFBLEdBQWlCLENBQWpCLEdBQXFCLENBQUMsQ0FBQSxHQUFJLEVBQUwsQ0FBdEIsQ0FBTixDQUFBLEdBQXlDO0lBVi9CLENBdkJaO0lBbUNBLFVBQUEsRUFBWSxTQUFDLEVBQUQsRUFBSyxFQUFMO2FBQ1YsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFmLENBQXVCLEVBQXZCLEVBQTJCLEVBQTNCO0lBRFUsQ0FuQ1o7SUFzQ0EsV0FBQSxFQUFhLFNBQUMsRUFBRCxFQUFLLEVBQUw7TUFDWCxJQUFHLEVBQUEsS0FBTSxHQUFUO2VBQWtCLEdBQWxCO09BQUEsTUFBQTtlQUEwQixJQUFJLENBQUMsR0FBTCxDQUFTLEdBQVQsRUFBYyxDQUFDLEVBQUEsSUFBTSxDQUFQLENBQUEsR0FBWSxDQUFDLEdBQUEsR0FBTSxFQUFQLENBQTFCLEVBQTFCOztJQURXLENBdENiO0lBeUNBLFVBQUEsRUFBWSxTQUFDLEVBQUQsRUFBSyxFQUFMO01BQ1YsSUFBRyxFQUFBLEtBQU0sQ0FBVDtlQUFnQixHQUFoQjtPQUFBLE1BQUE7ZUFBd0IsSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFULEVBQVksR0FBQSxHQUFNLENBQUMsQ0FBQyxHQUFBLEdBQU0sRUFBTixJQUFZLENBQWIsQ0FBQSxHQUFrQixFQUFuQixDQUFsQixFQUF4Qjs7SUFEVSxDQXpDWjtJQTRDQSxrQkFBQSxFQUFvQixTQUFDLEVBQUQsRUFBSyxFQUFMO2FBQ2xCLElBQUksQ0FBQyxHQUFMLENBQVMsRUFBQSxHQUFLLEVBQWQsRUFBa0IsR0FBbEI7SUFEa0IsQ0E1Q3BCO0lBK0NBLGlCQUFBLEVBQW1CLFNBQUMsRUFBRCxFQUFLLEVBQUw7TUFDakIsSUFBRyxFQUFBLEdBQUssRUFBTCxHQUFVLEdBQWI7ZUFBc0IsRUFBdEI7T0FBQSxNQUFBO2VBQTZCLEVBQUEsR0FBSyxFQUFMLEdBQVUsSUFBdkM7O0lBRGlCLENBL0NuQjs7QUFERiIsInNvdXJjZXNDb250ZW50IjpbIlxubW9kdWxlLmV4cG9ydHMgPVxuICBNVUxUSVBMWTogKHYxLCB2MikgLT5cbiAgICB2MSAqIHYyIC8gMjU1XG5cbiAgU0NSRUVOOiAodjEsIHYyKSAtPlxuICAgIHYxICsgdjIgLSAodjEgKiB2MiAvIDI1NSlcblxuICBPVkVSTEFZOiAodjEsIHYyKSAtPlxuICAgIGlmIHYxIDwgMTI4XG4gICAgICAyICogdjEgKiB2MiAvIDI1NVxuICAgIGVsc2VcbiAgICAgIDI1NSAtICgyICogKDI1NSAtIHYxKSAqICgyNTUgLSB2MikgLyAyNTUpXG5cbiAgRElGRkVSRU5DRTogKHYxLCB2MikgLT4gTWF0aC5hYnModjEgLSB2MilcblxuICBFWENMVVNJT046ICh2MSwgdjIpIC0+XG4gICAgY2IgPSB2MSAvIDI1NVxuICAgIGNzID0gdjIgLyAyNTVcbiAgICAoY2IgKyBjcyAtIDIgKiBjYiAqIGNzKSAqIDI1NVxuXG4gIEFWRVJBR0U6ICh2MSwgdjIpIC0+ICh2MSArIHYyKSAvIDJcblxuICBORUdBVElPTjogKHYxLCAgdjIpIC0+IDI1NSAtIE1hdGguYWJzKHYxICsgdjIgLSAyNTUpXG5cbiAgU09GVF9MSUdIVDogKHYxLCB2MikgLT5cbiAgICBjYiA9IHYxIC8gMjU1XG4gICAgY3MgPSB2MiAvIDI1NVxuICAgIGQgPSAxXG4gICAgZSA9IGNiXG5cbiAgICBpZiBjcyA+IDAuNVxuICAgICAgZSA9IDFcbiAgICAgIGQgPSBpZiBjYiA+IDAuMjUgdGhlbiBNYXRoLnNxcnQoY2IpIGVsc2UgKCgxNiAqIGNiIC0gMTIpICogY2IgKyA0KSAqIGNiXG5cbiAgICAoY2IgLSAoKDEgLSAoMiAqIGNzKSkgKiBlICogKGQgLSBjYikpKSAqIDI1NVxuXG4gIEhBUkRfTElHSFQ6ICh2MSwgdjIpIC0+XG4gICAgbW9kdWxlLmV4cG9ydHMuT1ZFUkxBWSh2MiwgdjEpXG5cbiAgQ09MT1JfRE9ER0U6ICh2MSwgdjIpIC0+XG4gICAgaWYgdjEgPT0gMjU1IHRoZW4gdjEgZWxzZSBNYXRoLm1pbigyNTUsICh2MiA8PCA4KSAvICgyNTUgLSB2MSkpXG5cbiAgQ09MT1JfQlVSTjogKHYxLCB2MikgLT5cbiAgICBpZiB2MSA9PSAwIHRoZW4gdjEgZWxzZSBNYXRoLm1heCgwLCAyNTUgLSAoKDI1NSAtIHYyIDw8IDgpIC8gdjEpKVxuXG4gIExJTkVBUl9DT0xPUl9ET0RHRTogKHYxLCB2MikgLT5cbiAgICBNYXRoLm1pbiB2MSArIHYyLCAyNTVcblxuICBMSU5FQVJfQ09MT1JfQlVSTjogKHYxLCB2MikgLT5cbiAgICBpZiB2MSArIHYyIDwgMjU1IHRoZW4gMCBlbHNlIHYxICsgdjIgLSAyNTVcbiJdfQ==
